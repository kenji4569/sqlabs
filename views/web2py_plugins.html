{{extend 'layout.html'}}
<a target="_blank" href="https://github.com/scubism/sqlabs"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
 
<p class="backto"><a href="{{=URL('web2py_plugins', 'index')}}#{{=response.web2py_plugins.plugin_name}}">
  ‚Üê {{=T('Back to the web2py-plugin list')}}
</a></p>

<h3>{{=response.web2py_plugins.plugin_label}}
{{if response.web2py_plugins.plugin_adopted:}}
&nbsp;&nbsp;
<small style="color:#D00;">({{=T('This plugin is now adopted as a web2py built-in!')}})</small>
{{pass}}
</h3>
<p>{{=response.web2py_plugins.plugin_long_description or response.web2py_plugins.plugin_short_description}}</p>

<hr/>

<h4>{{=T("Demo")}}</h4>

{{=BEAUTIFY(response._vars)}}

<p></p>
<hr/>

<h4>{{=T("Usage")}}</h4>
<ul>
  <li>
    <span>controllers/{{=response.web2py_plugins.plugin_name}}.py</span>
    {{=response.web2py_plugins.controller_code}}
  </li>
</ul>

<p></p>
<hr/>

{{if SHOW_SOCIAL:}}
<div id="fb-root"></div><script src="http://connect.facebook.net/{{=FACEBOOK_LANG}}/all.js#xfbml=1"></script><fb:comments href="{{=ROOT_URL}}{{=URL('index')}}" num_posts="2" width="700"></fb:comments>
{{pass}}
<hr/>

<div class="download">
<a href="{{=URL('web2py_plugins', 'pack_plugin', args=response.web2py_plugins.plugin_name[7:])}}">
{{=T("Download Plugin")}}
</a>
</div>
<hr/>

<h4>{{=T("Source code")}}</h4>
<ul>
  <li>
    <span>modules/{{=response.web2py_plugins.plugin_name}}.py</span>
    {{=response.web2py_plugins.module_code}}
  </li>
</ul>

<p></p>
<hr/>

<h4>{{=T("Static files")}}</h4>
{{statics = response.web2py_plugins.statics}}
<div id="static_inner" class="component_contents">
  <div class="controls comptools">
  </div>
  {{if not statics:}}<p class="nofiles">{{=T("There are no static files")}}</p>{{pass}}
  <ul>
    {{
    path=[]
    for file in statics+['']:
      items=file.split('/')
      file_path=items[:-1]
      filename=items[-1]
      while path!=file_path:          
          if len(file_path)>=len(path) and all([v==file_path[k] for k,v in enumerate(path)]):
              path.append(file_path[len(path)])
              thispath='static__'+'__'.join(path)
    }}
    <li class="folder">
    <a href="javascript:collapse('{{=thispath}}');" class="file">{{=path[-1]}}/</a>
    <ul id="{{=thispath}}" style="display: none;" class="sublist">{{
          else:
              path = path[:-1]
      }}
    </ul></li>
    {{
              pass
          pass
      if filename:
      }}<li>
      <span class="file">
	<a href="{{=URL(c='static',f='%s/%s' % (response.web2py_plugins.plugin_name, file))}}">{{=filename}}</a>
      </span>
    </li>{{
          pass
      pass
    }}
    {{pass}}
  </ul>
</div>

<br/>
